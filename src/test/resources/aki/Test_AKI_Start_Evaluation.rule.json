{
  "rules": {
	"rule": [
	  {
		"name": "AKI_RULE_START_EVALUATION",
		"description": "You asked for it.",
		"actions": {
		  "action": [
			{
			  "actiontype": "READPROPERTYFILE_LOCAL",
			  "context": "NOW",
			  "filename": "['AKI_PROPERTY_FILE']"
			},
			{
			  "actiontype": "DATA",
			  "context": "NOW",
			  "expressions": [
				"['RACE_FACTOR'] = (['PATENT.BLACK'] ? 1.212 : 1 )",
				"['SEX_FACTOR'] = (['PATIENT.FEMALE'] ? 0.742 : 1 )",
				"['AGE_FACTOR'] = 175 * (T(Math)).pow(['PATIENT.AGE'], -0.203)",
				"['GFR'] = 75",
				"['DENOMINATOR'] = (['AGE_FACTOR'] * ['RACE_FACTOR'] * ['SEX_FACTOR'])",
				"['SCR.REF'] = new java.math.BigDecimal(T(Math).pow(['GFR'] / ['DENOMINATOR'], 1 / -1.154)).setScale(2, T(java.math.BigDecimal).ROUND_HALF_UP )"
			  ]
			}
		  ]
		},
		"condition": {
		  "if": "null != ['SCR.NEW.RESULT']",
		  "then": {
			"ruleref": "AKI_SCR.REF_DETERMINATION",
			"condition": {
			  "if": "18 <= ['PATIENT.AGE'}",
			  "then": {
				"ruleref": "AKI_RULE_ADULT_BY_SCR"
			  },
			  "else": {
				"ruleref": "AKI_RULE_PEDIATRIC_BY_SCR"
			  }
			}
		  }
		}
	  }
	]
  }
}

